# 시스템 요구사항 (System Requirements)

**작성자:** 전문기

---

## 1. 개요

### 1.1. 사용자 특성

* **일반 회원:** 도서 검색, 대출, 반납, 개인 정보 확인 등의 기능을 사용한다.
* **관리자:** 도서 등록 및 관리, 회원 정보 관리, 통계 확인 등의 기능을 사용한다.

### 1.2. 제약 사항

* 시스템은 기존 도서관 데이터베이스(ILS)와 호환되어야 한다.
* RFID 태그는 ISO 15693 표준을 준수해야 한다.

### 1.3. 가정 및 의존성

* 모든 도서에 RFID 태그 혹은 책을 인식할 수 있는 태그가 부착되어 있다고 가정한다.
* 모든 회원은 도서증(RFID 태그)을 보유한다.
* 하드웨어(RFID 리더)가 안정적으로 작동한다는 가정에 의존한다.
* 기존 도서관 시스템(ILS)을 이관 받는 것으로 가정한다.

---

## 2. 용어 및 ID 정의

### 2.1. SR ID 구성

* **`SR-D0101`** => `SR` - `D01` (Dobby + UR번호) - `01` (해당 UR의 SR번호)

### 2.2. 용어 정의

* **온라인 시스템:** 도서관 내부 키오스크 및 온라인으로 도서 및 예약이 가능한 시스템
* **픽업:** 도서 픽업 후 Dobby 내부 보관까지
* **피안내자:** 길 안내를 받는 사람

---

## 3. Dobby (AMR + 6축 팔) 요구사항

Dobby는 이동하며 도서관의 핵심 사서 및 열람실 업무를 수행합니다.

| SR_ID | SR_NAME | Description | Priority | 비고 (관련 UR / 기술 조사) |
| :--- | :--- | :--- | :--- | :--- |
| `SR-D0101` | 도서 조회 기능 | **[상황 정의]**<br>온라인 시스템을 통해 도서를 조회한 경우<br><br>**[세부 수행 목록]**<br>- 원하는 도서 검색 및 도서 정보 조회<br>- 음성 인식 조회<br>- 검색<br>- 추천<br>- 도서 픽업 요청<br>- (현장 키오스크 한정) 도서 위치 안내 요청 | 1 | **UR-01, 03**<br>기술조사: 키오스크 UI/UX, DB연동, 로봇 임무 할당 통신 (ROS2 Service/Action) |
| `SR-D0102` | 도서 픽업 기능 | **[상황 정의]**<br>온라인 시스템을 통해 도서 예약이 확정된 경우<br><br>**[세부 수행 목록]**<br>- 해당 도서가 있는 책장 위치로 이동<br>- 해당 도서를 식별<br>- 픽업 후 Dobby 내부 보관함 | 1 | **UR-01**<br>기술 조사: 6D Pose Estimation, 그리퍼 파지 전략. |
| `SR-D0103` | 픽업 도서 픽업대 배송 기능 | **[상황 정의]**<br>예약 도서 픽업이 완료된 경우<br><br>**[세부 수행 목록]**<br>- 픽업한 도서를 지정된 픽업대로 안전하게 운반<br>- 운반 후, “픽업 완료” 메시지를 시스템 상에 보고<br>- 지정된 픽업대에 도서 배치 | 1 | **UR-01**<br>기술 조사: 로봇 팔 경로 계획 최적화. |
| `SR-D0201` | 반납 도서 픽업 기능 | **[상황 정의]**<br>반납된 도서를 수거 요청이 생성된 경우<br><br>**[세부 수행 목록]**<br>- 반납대로 이동<br>- 반납된 도서의 제목 및 바코드 정보를 인식 (카테고리 등)<br>- 인식한 정보를 기반으로 올바른 책장 위치 확인<br>- 픽업 후 Dobby 내부 보관 | 1 | **UR-02**<br>기술 조사: 비전 기반 OCR |
| `SR-D0202` | 반납 도서 정리 기능 | **[상황 정의]**<br>반납된 도서를 올바른 위치에 삽입하는 경우<br><br>**[세부 수행 목록]**<br>- 책 표면이 수직으로 정렬되도록 삽입/재배치<br>- 책장 환경의 비정형성에 대응하여 정밀하게 정렬<br>- 정리 후 “반납 정리 완료” 메시지를 시스템 상에 보고 | 1 | **UR-02**<br>기술 조사: 고정밀 피드백 제어, 책장 환경 비정형성 대응. |
| `SR-D0401` | 잘못 꽂힌 도서 재배치 기능 | **[상황 정의]**<br>Dobby가 책장 순찰을 하며 잘못 꽂힌 도서를 감지하는 경우<br><br>**[세부 수행 목록]**<br>- 잘못 꽂힌 도서를 식별 (뒤집힌 도서, 잘못된 카테고리)<br>- 도서를 정위치로 이동 | 2 | **UR-04**<br>기술 조사: 비전 기반 잘못 꽂힌 도서 인식 모델, 객체 인식. |
| `SR-D0501` | 좌석 정보 조회 기능 | **[상황 정의]**<br>열람실 좌석 정보 조회한 경우<br><br>**[세부 수행 목록]**<br>- 좌석 예약 현황 조회<br>- 좌석 예약<br>- 좌석 안내 요청 | 2 | **UR-05**<br>기술조사: 키오스크 UI/UX, DB연동, 로봇 임무 할당 통신 (ROS2 Service/Action) |
| `SR-D0701` | 좌석 정리 기능 | **[상황 정의]**<br>사용이 끝난 열람실 좌석을 순찰하는 경우<br><br>**[세부 수행 목록]**<br>- 테이블 위의 쓰레기 수거 (일회용 컵, 음료 캔 등)<br>- 수거 후 쓰레기통으로 이동하여 폐기 | 3 | **UR-07**<br>기술 조사: 비정형 물체 인식 모델, 그리퍼 조작 전략. |
| `SR-D0702` | 분실물 수거 기능 | **[상황 정의]**<br>좌석 정리 중 분실물을 발견한 경우<br><br>**[세부 수행 목록]**<br>- 분실물을 안전하게 내부 보관함에 수거 (무선 이어폰, 볼펜 등)<br>- 관제 시스템에 분실물 발견 좌석, 시간, 사진을 보고 | 4 | **UR-07**<br>기술 조사: 분실물 인식 모델, 물품 보관함 설계, 사진 전송. |
| `SR-D0301` | 길 안내 기능 | **[상황 정의]**<br>키오스크를 통해 도서 위치 안내, 좌석 안내가 요청된 경우<br><br>**[세부 수행 목록]**<br>- 피안내자 실시간 인식 (10초 이상 미감지 시 안내 종료)<br>- 최적 경로 계획 및 이동<br>- 도서 위치 혹은 좌석 위치까지 안내 | 2 | **UR-03, 05**<br>기술조사: 인물 추적/인식, 동적 경로 계획 (Nav2 기반) |
| `SR-D0302` | 안전 주행 기능 | **[상황 정의]**<br>임무 수행을 위해 도서관 내부를 주행하는 모든 경우<br><br>**[세부 수행 목록]**<br>- 장애물 근접 시 자동 감속/정지 (안전 거리 유지)<br>- 동적 장애물 (사람 - 속도별 구분, 다른 로봇)<br>- 정적 장애물 (의자, 문)<br>- 충돌 회피 기능 상시 작동 | 1 | **UR-03**<br>기술 조사: 안전 주행 및 충돌 회피, 객체 인식, 동적 장애물 속도/경로 예측 |
| `SR-D1002` | 자율 충전 기능 | **[상황 정의]**<br>배터리 잔량 변화가 감지된 경우<br><br>**[세부 수행 목록]**<br>- 100%-40%: 신규 작업 할당<br>- 20% 이하: 작업 중단 후 즉시 충전소 복귀<br>- 5% 이하: 관리자 경고 알림<br>- 최소 80% 충전 후 작업 재개 | 3 | **UR-10**<br>기술 조사: 충전 스테이션 인식 및 Docking 기술. |

---

## 4. Kreacher (6축 팔) 요구사항

Kreacher는 고정된 위치에서 음료 제조 서비스를 독립적으로 수행합니다. (UR-09, 10)

| SR_ID | SR_NAME | Description | Priority | 비고 (관련 UR / 기술 조사) |
| :--- | :--- | :--- | :--- | :--- |
| `SR-K0601` | 주문 기능 | **[상황 정의]**<br>사용자가 음료 주문을 넣었을 경우<br><br>**[세부 수행 목록]**<br>- 키오스크를 통해 음료 주문 (메뉴, 온도, 얼음 양 선택)<br>- 결제 확인 후 Kreacher에게 레시피 요청<br>- 주문 상태(준비중, 완료) 표시<br>- 픽업 완료 후 해당 주문 삭제 | 1 | **UR-09** |
| `SR-K0602` | 음료 제조 기능 | **[상황 정의]**<br>Kreacher가 제조 요청을 받은 경우<br><br>**[세부 수행 목록]**<br>- 레시피에 따른 음료 제조 (아이스 아메리카노 등)<br>- 프로세스 수행 (컵 배치, 정수기, 얼음, 커피 머신 버튼 등) | 2 | **UR-09**<br>기술 조사: 정밀 펌프/밸브 제어, 로드 셀 피드백, 로봇 팔 경로 최적화, 모형 제작. |
| `SR-K0603` | 제조 완료 픽업대 전달 | **[상황 정의]**<br>음료 제조가 완료된 경우<br><br>**[세부 수행 목록]**<br>- 완성된 음료 컵을 픽업대 지정 위치에 안정적으로 배치<br>- 제조 영역과 픽업대 영역의 물리적 경계 구분 | 2 | **UR-09**<br>기술 조사: 픽업대 배치 정밀도, 안전 구성. |

---

## 5. 시스템 관리 및 안전 (공통) 요구사항

이 분류는 Dobby, Kreacher 모두에게 적용되는 안전, 모니터링, 유지보수, 관제 관련 SR입니다.

| SR_ID | SR_NAME | Description | Priority | 비고 (관련 UR / 기술 조사) |
| :--- | :--- | :--- | :--- | :--- |
| `SR-G1101` | 안전 기능 | **[상황 정의]**<br>로봇 작동 중 위험 요인이 감지된 경우<br><br>**[세부 수행 목록]**<br>- 충돌/안전 센서 감지 시 즉각 작업 정지 후 보고<br>- Dobby: 충돌, 배터리 과열(60°C 이상) 감지<br>- Kreacher: 픽업 위치 안전 센서 감지<br>- 비상 정지 상태 전환 (관리자 해제 후 재개) | 5 | **UR-11**<br>기술 조사: ISO 13849, E-Stop 회로, 각종 센서 (충돌, 온도, IR 등) |
| `SR-G0401` | 실시간 모니터링 기능 | **[상황 정의]**<br>Dobby와 Kreacher의 모든 실시간 상태<br><br>**[세부 수행 목록]**<br>- 모든 로봇의 상태 모니터링 (ID, 위치, 작업 상태, 배터리, 가동 시간, 로봇 영상) | 1 | **UR-04**<br>기술 조사: ROS2 QoS 설정, 중앙 서버 통신 안정성. |
| `SR-G0402` | 원격 명령 기능 | **[상황 정의]**<br>운영자가 중앙 관제 시스템을 통해 로봇을 제어하는 경우<br><br>**[세부 수행 목록]**<br>- Dobby: 임무 원격 할당, 정지/재개, 특정 위치 이동, 공지 (퇴실 등)<br>- Kreacher: 제조 중지/재개, 물품 보충 조치 | 4 | **UR-11**<br>기술 조사: ROS2 Action/Service 기반 관제 API 설계. |
| `SR-G0403` | 알림 기능 | **[상황 정의]**<br>로봇에서 발생한 알림 로그<br><br>**[세부 수행 목록]**<br>- 알림 레벨별 조회<br>- **레벨 1 (공지):** 피안내자 미식별, 분실물 발견<br>- **레벨 2 (호출):** 도서 분실, 재료 소진<br>- **레벨 3 (긴급):** 충돌 감지, 시스템 알람 | 2 | **UR-04, 10**<br>기술 조사: ROS 시스템 에러 로깅. |
| `SR-G0404` | 지도 관리 기능 | **[상황 정의]**<br>관제 시스템에서 지도를 관리하는 경우<br><br>**[세부 수행 목록]**<br>- 지도 내 관리 지점(POI) 등록 기능<br>- 지도 내 가상 벽/제한 구역 설정 기능 | 3 | **UR-04**<br>기술 조사: Nav2 SLAM/Map 관리 |
| `SR-G0405` | 자동 진단 기능 | **[상황 정의]**<br>로봇에서 시스템 오류, 센서 이상이 발생한 경우<br><br>**[세부 수행 목록]**<br>- 중요 센서 데이터 및 오류 로그 원격 접근<br>- 배터리 과열 감지 시 작업 정지 후 보고<br>- 원격 진단 데이터로 문제 상황 파악 | 2 | **UR-04, 10**<br>기술 조사: 중앙 로깅 시스템, 원격 데이터 접근 보안. |
| `SR-G1401` | ILS 연동 및 데이터 관리 | **[상황 정의]**<br>도서 데이터가 필요한 경우<br><br>**[세부 수행 목록]**<br>- ILS API를 통해 도서 재고, 위치, 입/출고 기록 조회 및 동기화<br>- 데이터 전송 및 동기화 시 무결성 보장 | 4 | **UR-14**<br>기술 조사: ILS API 분석, 데이터 무결성 및 보안. |