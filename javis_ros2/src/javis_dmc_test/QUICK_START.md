# JAVIS DMC Test - ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2025-10-25
**ëª©ì **: TEST GUIë¥¼ ì‚¬ìš©í•œ Mock í…ŒìŠ¤íŠ¸ ë¹ ë¥¸ ì‹œì‘

---

## ğŸš€ 5ë¶„ ì•ˆì— ì‹œì‘í•˜ê¸°

### 1. ë¹Œë“œ (ì²˜ìŒ í•œ ë²ˆë§Œ)

```bash
cd ~/dev_ws/roscamp-repo-2/javis_ros2

# ë¹Œë“œ
colcon build --packages-select javis_dmc_test_msgs javis_dmc_test --symlink-install

# í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
source install/setup.bash
```

### 2. ì „ì²´ ì‹¤í–‰ (Launch íŒŒì¼ ì‚¬ìš© - ê¶Œì¥)

```bash
# í„°ë¯¸ë„ 1: ì „ì²´ í™˜ê²½ ì‹¤í–‰
ros2 launch javis_dmc_test test_full.launch.py
```

**ì‹¤í–‰ë˜ëŠ” ë…¸ë“œ**:
- âœ… DMC ë…¸ë“œ
- âœ… Mock Bridge ë…¸ë“œ
- âœ… Mock RCS ë…¸ë“œ
- âœ… **Test GUI** (ìë™ìœ¼ë¡œ ì°½ì´ ì—´ë¦½ë‹ˆë‹¤)

---

## ğŸ® TEST GUI ì‚¬ìš© ë°©ë²•

### GUI í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     JAVIS DMC Simple Test GUI                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì‘ì—… ì „ì†¡ (Mock RCS)]                         â”‚
â”‚   [ë„ì„œ í”½ì—…] [ê¸¸ ì•ˆë‚´] [ë°˜ë‚© ì •ë¦¬] [ì¢Œì„ ì²­ì†Œ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Mock ì œì–´ (ê°œë³„ ë©”ì„œë“œ)]                      â”‚
â”‚                                                â”‚
â”‚  DRIVE Interface (4ê°œ)                         â”‚
â”‚    Method         |Enabled|Success|Delay| [ì ìš©] â”‚
â”‚    move_to_target |  â˜‘    |  â˜‘    | 1.0 | [ì ìš©] â”‚
â”‚    stop           |  â˜    |  â˜‘    | 0.0 | [ì ìš©] â”‚
â”‚    resume         |  â˜    |  â˜‘    | 0.0 | [ì ìš©] â”‚
â”‚    start_patrol   |  â˜    |  â˜‘    | 1.0 | [ì ìš©] â”‚
â”‚                                                â”‚
â”‚  ARM Interface (3ê°œ)                           â”‚
â”‚    Method         |Enabled|Success|Delay| [ì ìš©] â”‚
â”‚    pick_book      |  â˜‘    |  â˜‘    | 3.0 | [ì ìš©] â”‚
â”‚    place_book     |  â˜‘    |  â˜‘    | 2.0 | [ì ìš©] â”‚
â”‚    change_pose    |  â˜    |  â˜‘    | 0.5 | [ì ìš©] â”‚
â”‚                                                â”‚
â”‚  AI Interface (2ê°œ)                            â”‚
â”‚    Method         |Enabled|Success|Delay| [ì ìš©] â”‚
â”‚    detect_book    |  â˜    |  â˜‘    | 0.5 | [ì ìš©] â”‚
â”‚    change_tracking|  â˜    |  â˜‘    | 0.0 | [ì ìš©] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì´ë²¤íŠ¸ ë¡œê·¸]                                   â”‚
â”‚ [15:30:45] [ìš”ì²­] drive.move_to_target ì ìš©    â”‚
â”‚ [15:30:46] [Mock] drive.move_to_target: ì„¤ì • ì™„ë£Œâ”‚
â”‚ [15:30:47] [ìš”ì²­] pickup ì‘ì—… ì „ì†¡ ìš”ì²­        â”‚
â”‚ [15:30:48] [Task] pickup: pickup task sent    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì œ

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë„ì„œ í”½ì—… ì„±ê³µ í…ŒìŠ¤íŠ¸

#### Step 1: Mock ì„¤ì •

GUIì—ì„œ ë‹¤ìŒ ì²´í¬ë°•ìŠ¤ë¥¼ ì²´í¬í•˜ê³  **[ì ìš©]** ë²„íŠ¼ í´ë¦­:

**DRIVE Interface**:
- `move_to_target`: Enabled â˜‘, Success â˜‘, Delay: `1.0`

**ARM Interface**:
- `pick_book`: Enabled â˜‘, Success â˜‘, Delay: `3.0`
- `place_book`: Enabled â˜‘, Success â˜‘, Delay: `2.0`

#### Step 2: ì‘ì—… ì „ì†¡

GUI ìƒë‹¨ì˜ **[ë„ì„œ í”½ì—…]** ë²„íŠ¼ í´ë¦­

#### Step 3: ê²°ê³¼ í™•ì¸

**ì˜ˆìƒ ë¡œê·¸ (GUI í•˜ë‹¨)**:
```
[15:30:00] [ìš”ì²­] pickup ì‘ì—… ì „ì†¡ ìš”ì²­
[15:30:01] [Task] pickup: pickup task sent
[15:30:02] [Mock] drive.move_to_target ì‹¤í–‰ (1ì´ˆ ì§€ì—°)
[15:30:03] [DMC] ì„œê°€ ë„ì°© ì™„ë£Œ
[15:30:03] [Mock] arm.pick_book ì‹¤í–‰ (3ì´ˆ ì§€ì—°)
[15:30:06] [DMC] ë„ì„œ ì§‘ê¸° ì™„ë£Œ
[15:30:06] [Mock] drive.move_to_target ì‹¤í–‰
[15:30:07] [DMC] ë³´ê´€í•¨ ë„ì°©
[15:30:07] [Mock] arm.place_book ì‹¤í–‰ (2ì´ˆ ì§€ì—°)
[15:30:09] [DMC] ì‘ì—… ì™„ë£Œ
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë„ì„œ ì§‘ê¸° ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸

#### Step 1: Mock ì„¤ì • (ì‹¤íŒ¨)

**DRIVE Interface**:
- `move_to_target`: Enabled â˜‘, Success â˜‘, Delay: `0.5`

**ARM Interface**:
- `pick_book`: Enabled â˜‘, Success â˜ **(ì²´í¬ í•´ì œ!)**, Delay: `2.0`

#### Step 2: ì‘ì—… ì „ì†¡

**[ë„ì„œ í”½ì—…]** ë²„íŠ¼ í´ë¦­

#### Step 3: ê²°ê³¼ í™•ì¸

**ì˜ˆìƒ ë¡œê·¸**:
```
[15:31:00] [ìš”ì²­] pickup ì‘ì—… ì „ì†¡ ìš”ì²­
[15:31:01] [Mock] drive.move_to_target ì‹¤í–‰ (ì„±ê³µ)
[15:31:02] [Mock] arm.pick_book ì‹¤í–‰ (ì‹¤íŒ¨!)
[15:31:04] [DMC] ë„ì„œ ì§‘ê¸° ì‹¤íŒ¨ - ì‘ì—… ì¤‘ë‹¨
```

---

## ğŸ¯ GUI ì‚¬ìš© íŒ

### Mock ì„¤ì •

1. **Enabled**: Mockì„ í™œì„±í™”í• ì§€ ì„ íƒ
   - â˜‘ ì²´í¬: Mock ì‘ë‹µ ë°˜í™˜
   - â˜ í•´ì œ: ì‹¤ì œ í•˜ë“œì›¨ì–´ë¡œ ì „ë‹¬ (ì—†ìœ¼ë©´ ì‹¤íŒ¨)

2. **Success**: Mock ì‘ë‹µì˜ ì„±ê³µ/ì‹¤íŒ¨
   - â˜‘ ì²´í¬: ì„±ê³µ ì‘ë‹µ
   - â˜ í•´ì œ: ì‹¤íŒ¨ ì‘ë‹µ

3. **Delay**: Mock ì‘ë‹µ ì§€ì—° ì‹œê°„ (ì´ˆ)
   - ì‹¤ì œ í•˜ë“œì›¨ì–´ ë™ì‘ ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜
   - ì˜ˆ: `3.0` = 3ì´ˆ í›„ ì‘ë‹µ

4. **[ì ìš©]** ë²„íŠ¼: ì„¤ì •ì„ Mock Bridgeì— ì „ì†¡

### ì‘ì—… ì „ì†¡ ë²„íŠ¼

- **ë„ì„œ í”½ì—…**: ì±… ì„œê°€ â†’ ì§‘ê¸° â†’ ë³´ê´€í•¨ ë°°ì¹˜
- **ê¸¸ ì•ˆë‚´**: ì‚¬ìš©ìë¥¼ ëª©ì ì§€ê¹Œì§€ ì•ˆë‚´
- **ë°˜ë‚© ì •ë¦¬**: ë°˜ë‚©ëŒ€ì˜ ì±…ë“¤ì„ ì„œê°€ë¡œ ì¬ë°°ì¹˜
- **ì¢Œì„ ì²­ì†Œ**: ì¢Œì„ì˜ ì“°ë ˆê¸° ìˆ˜ê±°

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### GUIê°€ ì—´ë¦¬ì§€ ì•ŠìŒ

**ì›ì¸**: X11 ë””ìŠ¤í”Œë ˆì´ ë¬¸ì œ

**í•´ê²°**:
```bash
# WSLì¸ ê²½ìš° X server ì„¤ì¹˜ í•„ìš” (VcXsrv, X410 ë“±)
export DISPLAY=:0
```

### "Service not available" ì˜¤ë¥˜

**ì›ì¸**: Mock Bridge ë˜ëŠ” Mock RCS ë…¸ë“œê°€ ì‹¤í–‰ ì¤‘ì´ì§€ ì•ŠìŒ

**í•´ê²°**:
```bash
# ë…¸ë“œ í™•ì¸
ros2 node list

# Mock Bridgeê°€ ì—†ìœ¼ë©´
ros2 run javis_dmc_test mock_bridge_node
```

### Mockì´ ë™ì‘í•˜ì§€ ì•ŠìŒ

**ì›ì¸**: Enabled ì²´í¬ ì•ˆ ë¨ ë˜ëŠ” ì ìš© ì•ˆ ë¨

**í•´ê²°**:
1. Enabled ì²´í¬ë°•ìŠ¤ í™•ì¸
2. **[ì ìš©]** ë²„íŠ¼ í´ë¦­
3. ë¡œê·¸ì—ì„œ `[Mock] ... ì„¤ì • ì™„ë£Œ` í™•ì¸

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

### í„°ë¯¸ë„ë¡œ ê³ ê¸‰ í…ŒìŠ¤íŠ¸

```bash
# Mock ì„¤ì •
ros2 service call /test/mock_bridge/set_method javis_dmc_test_msgs/srv/SetMockMethod \
  "{interface: 'drive', method: 'move_to_target', enabled: true, success: true, delay: 1.0}"

# ì‘ì—… ì „ì†¡
ros2 service call /test/mock_rcs/send_task javis_dmc_test_msgs/srv/SendTask \
  "{task_type: 'pickup'}"
```

### ê°œë³„ ë…¸ë“œ ì‹¤í–‰

```bash
# í„°ë¯¸ë„ 1: Mock Bridge
ros2 run javis_dmc_test mock_bridge_node

# í„°ë¯¸ë„ 2: Mock RCS
ros2 run javis_dmc_test mock_rcs_node

# í„°ë¯¸ë„ 3: Test GUI
ros2 run javis_dmc_test test_gui_simple

# í„°ë¯¸ë„ 4: DMC (í…ŒìŠ¤íŠ¸ ëŒ€ìƒ)
ros2 run javis_dmc dmc_node
```

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- **ìƒì„¸ í…ŒìŠ¤íŠ¸**: `TESTING.md` - ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
- **êµ¬í˜„ ë‚´ìš©**: `IMPLEMENTATION.md` - êµ¬í˜„ ìƒì„¸
- **ì„¤ê³„ ë¬¸ì„œ**: `/javis_dmc/docs/DevelopmentPlan/TEST_GUI_REFACTOR_V2.md`

---

**ì¦ê±°ìš´ í…ŒìŠ¤íŠ¸ ë˜ì„¸ìš”!** ğŸš€
